<!DOCTYPE html>
<html>
<head>
	<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
	<title>Champions</title>
	<script src="../js/constants.js"></script>
	<script src="../js/Utility.js"></script>
	<script src="../js/data/Matchloader.js"></script>
	<script src="../js/PanelManager.js"></script>

	<script src="../js/WindowController.js"></script>
	<script src="../js/Settings.js"></script>
	<script src="../js/Error.js"></script>

	<link rel="stylesheet" href="../assets/css/main.css" type="text/css" />

</head>

<body>

<div id="panel-container">
	<div id="match-container" class="panel">
		<!-- contains all the champs within the game as Thumbnails -->
		<div id="match-participants">
			<div class="team blue col-xs-6"></div>
			<div class="team purple col-xs-6"></div>
		</div>
	</div>

	<div id="participants-container" class="col-xs-12 table">
		<!-- container to contain all the champion-panels with their spell informations -->
	</div>

	<div id="tooltip-container" class="hidden">
		<!-- for the tooltip to be shown - will get dynamically filled -->
	</div>
</div>
<div id="pull-down-handle">
	<button id="close" onclick="WindowController.closeWindow();">Close</button>
	<button id="load-btn">Load</button>
</div>
<script src="../js/vendor/jquery/dist/jquery.min.js"></script>

<script>
	var ml;
	init();
	$('#load-btn').on('click', init);
	function init(){
		ml = new Matchloader(Settings.summonerId(), Settings.server());
		ml.loadMatch($('#match-participants'), $('#match-participants .blue'), $('#match-participants .purple'));
	}

	$('#pull-down-handle').on('click', pullDownHandler);
	function pullDownHandler() {
		$(this).toggleClass('collapsed');
		PanelManager.togglePanels();
	}



	//	overwolf.settings.registerHotKey( // TODO: remove again if not used
	//				"hide_match_window",
	//				function (arg) {
	//					if (arg.status == "success") {
	//						// TODO: hide window during Tab is pressed
	//						WindowController.minimizeWindow();
	//						window.setTimeout(
	//								WindowController.restoreMatch,
	//						1000)
	//					}
	//				}
	//		);
	//	jQuery(window).on('keydown', keydownhandler);

	//	function keyuphandler (e){
	//		if (e.which == 9) {
	//			alert('tab up');
	//			jQuery(window).off('keyup', keyuphandler);
	//			jQuery(window).on('keydown', keydownhandler);
	//		}
	//	}
	//	function keydownhandler(e){
	//		if (e.which == 9) {
	//			alert('tab down');
	//			jQuery(window).off('keydown', keydownhandler);
	//			jQuery(window).on('keyup', keyuphandler);
	//		}
	//	}


</script>
</body>
</html>